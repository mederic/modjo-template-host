{% extends "layout.html" %}
{% block body %}

    <style>
    .author, .id {
        font-size: 0.85em;
        color: #888;
        margin: 0;
    }
    </style>
    
    <h1>Template list</h1>
    <div class="panel-group" id="accordion">
      {% set is_first = True %}
      {% for template in templates %}
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse-{{template['b_id']}}">
                      {{template['name']}}
                    </a>
                </h4>
            </div>
            {% if is_first %}
            <div id="collapse-{{template['b_id']}}" class="panel-collapse in collapse">
            {% else %}
            <div id="collapse-{{template['b_id']}}" class="panel-collapse collapse">
            {% endif %}
                <div class="panel-body">
                    <p>{{template['description']}}</p>
                    <div style="float: left;">
                        <p class="author">
                            <span class="modjo-label">Author: </span>
                            {{template['author']}}
                        </p>
                        <p class="id">
                            <span class="modjo-label">Id: </span>
                            {{template['tpl_id']}}
                        </p>
                    </div>
                    <a href="/template/{{template['tpl_id']}}.zip" class="btn btn-info" style="float: right;">Download<i class="glyphicon glyphicon-floppy-save" style="margin-left: 12px;"></i></a>
                </div>
            </div>
        </div>  
        {% set is_first = False %}
      {% else %}
        <em>No template for now...</em>
      {% endfor %}
    </div>



  <ul class=entries>
  </ul>
{% endblock %}
